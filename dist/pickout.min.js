var pickout=function(){"use strict";function e(e){t(e),n()}function t(e){var t="object"==typeof e?e:{};"string"==typeof e&&(t.el=e),t.DOM=[].slice.call(document.querySelectorAll(t.el)),s(t)}function n(){d.DOM.map(function(e,t){r(e,t)}),o()}function r(e,t){var n=d;e.style.display="none";var r=e.parentElement;r.setAttribute("style","position:relative;float:left;");var i=e.getAttribute("placeholder"),c=document.createElement("input");c.setAttribute("readonly","readonly"),c.setAttribute("class","pk-input -"+n.theme),i&&c.setAttribute("placeholder",i),r.hasAttribute("for")&&c.setAttribute("id",r.getAttribute("for"));var l=document.createElement("span");l.setAttribute("class","pk-arrow -"+n.theme),r.appendChild(c),r.appendChild(l),r.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),n.currentIndex=t,a(n)})}function a(e){var t,n=document.querySelector(".pk-modal"),r=e.DOM[e.currentIndex];n.setAttribute("class",n.getAttribute("class")+" -"+e.theme);var a=n.querySelector(".main");if(!a.children.length){var c=document.querySelector(".pk-overlay"),l=[].slice.call(r),o=l.map(function(r,a){return t={index:a,item:r},i(t,n,e)});n.setAttribute("class",n.getAttribute("class")+" -show"),c.setAttribute("class",c.getAttribute("class")+" -show");var u=r.hasAttribute("placeholder")?r.getAttribute("placeholder"):"Select to option";if(n.querySelector(".head").innerHTML=u,e.search){var s=n.querySelector(".pk-search"),d=s.querySelector("input");d.value="",setTimeout(function(){d.focus()},300),s.setAttribute("class",s.getAttribute("class")+" -show"),d.addEventListener("keyup",function(e){e.preventDefault(),e.stopPropagation();var t=o,r=n.querySelector(".main");if(r.innerHTML="",!e.target.value)return void t.map(function(e){r.appendChild(e)});if(o.map(function(t){var n=t.children[1].innerHTML||t.children[0].innerHTML;-1!==n.toLowerCase().indexOf(e.target.value.toLowerCase())&&r.appendChild(t)}),!r.children.length){var a=document.createElement("li");return a.setAttribute("class","pk-no_result_search"),a.innerHTML="No Results",void r.appendChild(a)}})}}}function i(e,t,n){var r=n.DOM[n.currentIndex],a=t.querySelector(".main"),i=document.createElement("li"),l=e.item.hasAttribute("selected")?"-selected":"";i.setAttribute("class","pk-option "+l+" -"+n.theme);var o=document.createElement("span");o.setAttribute("class","icon"),o.innerHTML=e.item.getAttribute("data-icon")||"";var s=document.createElement("span");return s.setAttribute("class","txt"),s.innerHTML=e.item.innerHTML,a.appendChild(i),i.appendChild(o),i.appendChild(s),i.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),[].slice.call(r.children).map(function(t,n){return n===e.index?void t.setAttribute("selected","selected"):void t.removeAttribute("selected")}),c(r,s.innerHTML),u()}),i}function c(e,t){e.parentElement.querySelector(".pk-input").value=t}function l(e){t(e),d.DOM.map(function(e){c(e,e[e.selectedIndex].innerHTML)})}function o(){if(!document.querySelector(".pk-overlay")){var e=document.createElement("div");e.setAttribute("class","pk-overlay");var t=document.createElement("div");t.setAttribute("class","pk-modal");var n=document.createElement("ul");n.setAttribute("class","main");var r=document.createElement("div");r.setAttribute("class","head");var a=document.createElement("div");a.setAttribute("class","pk-search");var i=document.createElement("input");i.setAttribute("type","text");var c=document.createElement("span");c.setAttribute("class","close"),c.innerHTML="&times;",document.body.appendChild(e),document.body.appendChild(t),t.appendChild(r),t.appendChild(a),a.appendChild(i),t.appendChild(c),t.appendChild(n),e.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),u()}),c.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),u()})}}function u(){var e=document.querySelector(".pk-overlay"),t=document.querySelector(".pk-modal"),n=t.querySelector(".pk-search");e.setAttribute("class","pk-overlay"),t.setAttribute("class","pk-modal"),n.setAttribute("class","pk-search"),setTimeout(function(){t.querySelector(".main").innerHTML=""},500)}function s(e){d=JSON.parse(JSON.stringify(p));for(var t in e)e.hasOwnProperty(t)&&(d[t]=e[t])}var d={},p={theme:"clean",search:!1};return{to:e,updated:l}}();"undefined"!=typeof module&&module.exports&&(module.exports=pickout);