var pickout=function(){"use strict";function t(t){e(t),a()}function e(t){var e="object"==typeof t?t:{};"string"==typeof t&&(e.el=t),e.DOM=v.$$(e.el),p(e)}function a(){d.DOM.map(function(t,e){n(t,e)}),l()}function n(t,e){var a=d;t.style.display="none";var n=t.parentElement;v.attr(n,"style","position:relative;float:left;");var i=v.attr(t,"placeholder"),o=v.create("input");v.attr(o,"readonly","readonly"),v.attr(o,"class","pk-input -"+a.theme),i&&v.attr(o,"placeholder",i),n.hasAttribute("for")&&v.attr(o,"id",v.attr(n,"for"));var c=v.create("span");v.attr(c,"class","pk-arrow -"+a.theme),n.appendChild(o),n.appendChild(c),v.events(n,"click",function(t){t.preventDefault(),t.stopPropagation(),a.currentIndex=e,r(a)})}function r(t){var e,a=v.$(".pk-modal"),n=t.DOM[t.currentIndex];v.attr(a,"class",v.attr(a,"class")+" -"+t.theme);var r=v.$(".main",a);if(!r.children.length){var o=v.$(".pk-overlay"),c=v.toArray(n),l=c.map(function(n,r){return e={index:r,item:n},i(e,a,t)});v.attr(a,"class",v.attr(a,"class")+" -show"),v.attr(o,"class",v.attr(o,"class")+" -show");var s=n.hasAttribute("placeholder")?v.attr(n,"placeholder"):"Select to option";if(v.$(".head",a).innerHTML=s,t.search){var p=v.$(".pk-search",a),d=v.$("input",p);d.value="",setTimeout(function(){d.focus()},300),v.attr(p,"class",v.attr(p,"class")+" -show"),v.events(d,"keyup",function(e){e.preventDefault(),e.stopPropagation();var n=l,r=v.$(".main",a);if(document.documentMode?n.map(function(t){t.style.display="none"}):r.innerHTML="",!e.target.value)return void n.map(function(t){return document.documentMode?void(t.style.display="block"):void r.appendChild(t)});if(n.map(function(t){var a=t.children[1]||t.children[0];if(-1!==a.innerHTML.toLowerCase().indexOf(e.target.value.toLowerCase())){if(document.documentMode)return void(t.style.display="block");r.appendChild(t)}}),!r.children.length){var i=v.create("li");return v.attr(i,"class","pk-no_result_search"),i.innerHTML=t.noResults,void r.appendChild(i)}})}}}function i(t,e,a){var n=a.DOM[a.currentIndex],r=e.querySelector(".main"),i=v.create("li"),c=t.item.hasAttribute("selected")?"-selected":"";v.attr(i,"class","pk-option "+c+" -"+a.theme);var l=v.create("span");v.attr(l,"class","icon"),l.innerHTML=v.attr(t.item,"data-icon")||"";var p=v.create("span");return v.attr(p,"class","txt"),p.innerHTML=t.item.innerHTML,r.appendChild(i),i.appendChild(l),i.appendChild(p),v.events(i,"click",function(e){e.preventDefault(),e.stopPropagation(),v.toArray(n.children).map(function(e,a){return a===t.index?void v.attr(e,"selected","selected"):void e.removeAttribute("selected")}),o(n,p.innerHTML),s()}),i}function o(t,e){t.parentElement.querySelector(".pk-input").value=e}function c(t){e(t),d.DOM.map(function(t){o(t,t[t.selectedIndex].innerHTML)})}function l(){if(!v.$(".pk-overlay")){var t=v.create("div");v.attr(t,"class","pk-overlay");var e=v.create("div");v.attr(e,"class","pk-modal");var a=v.create("ul");v.attr(a,"class","main");var n=v.create("div");v.attr(n,"class","head");var r=v.create("div");v.attr(r,"class","pk-search");var i=v.create("input");v.attr(i,"type","text");var o=v.create("span");v.attr(o,"class","close"),o.innerHTML="&times;",document.body.appendChild(t),document.body.appendChild(e),e.appendChild(n),e.appendChild(r),r.appendChild(i),e.appendChild(o),e.appendChild(a),v.events(t,"click",function(t){t.preventDefault(),t.stopPropagation(),s()}),v.events(o,"click",function(t){t.preventDefault(),t.stopPropagation(),s()})}}function s(){var t=v.$(".pk-overlay"),e=v.$(".pk-modal"),a=v.$(".pk-search",e);v.attr(t,"class","pk-overlay"),v.attr(e,"class","pk-modal"),v.attr(a,"class","pk-search"),setTimeout(function(){v.$(".main",e).innerHTML=""},500)}function p(t){d=JSON.parse(JSON.stringify(u));for(var e in t)t.hasOwnProperty(e)&&(d[e]=t[e])}var d={},u={theme:"clean",search:!1,noResults:"No Results"},v={create:function(t){return document.createElement(t)},attr:function(t,e,a){return a?void t.setAttribute(e,a):t.getAttribute(e)},events:function(t,e,a){t.addEventListener(e,a,!1)},toArray:function(t){return[].slice.call(t)},$:function(t,e){return(e||document).querySelector(t)},$$:function(t,e){return this.toArray((e||document).querySelectorAll(t))}};return{to:t,updated:c}}();"undefined"!=typeof module&&module.exports&&(module.exports=pickout);